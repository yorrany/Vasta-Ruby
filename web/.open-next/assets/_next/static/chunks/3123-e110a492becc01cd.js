"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3123],{5504:(e,l,t)=>{t.d(l,{PublicProfile:()=>c});var a=t(5155),s=t(2115),r=t(3259),i=t(4505),o=t(5765);function c(e){let{username:l}=e,[t,c]=(0,s.useState)(null),[n,d]=(0,s.useState)([]),[x,g]=(0,s.useState)([]),[m,h]=(0,s.useState)(!0),[p,f]=(0,s.useState)(!1),u=(0,r.U)();if((0,s.useEffect)(()=>{async function e(){h(!0);let{data:e,error:t}=await u.from("profiles").select("*").eq("username",l).single();if(t||!e){console.error("Profile not found or error:",t),f(!0),h(!1);return}c(e);let{data:a}=await u.from("links").select("*").eq("profile_id",e.id).eq("is_active",!0).order("display_order",{ascending:!0});a&&d(a);let{data:s}=await u.from("products").select("*").eq("profile_id",e.id).eq("status","active").order("created_at",{ascending:!1});s&&g(s),h(!1)}l&&e()},[l]),m)return(0,a.jsx)("div",{className:"flex h-screen items-center justify-center bg-vasta-bg text-vasta-primary",children:(0,a.jsx)(i.A,{className:"h-10 w-10 animate-spin"})});if(p||!t)return(0,a.jsxs)("div",{className:"flex h-screen flex-col items-center justify-center bg-vasta-bg text-center p-4",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-vasta-text mb-2",children:"404"}),(0,a.jsx)("p",{className:"text-vasta-muted",children:"Perfil n\xe3o encontrado."})]});let{theme:b,link_style:v,accent_color:j,bg_color:y,typography:w,cover_image:N,cover_image_credit:k,profile_image:_}=t,C={backgroundColor:y||("light"===b?"#FAFAF9":"#0B0E14"),color:"light"===b?"#1C1917":"#F3F4F6",fontFamily:w};return(0,a.jsxs)("div",{style:C,className:"min-h-screen w-full transition-colors duration-500 overflow-x-hidden flex flex-col items-center justify-center lg:p-8 lg:items-start lg:justify-start",children:[(0,a.jsx)("div",{className:"fixed inset-0 pointer-events-none opacity-50 mix-blend-soft-light bg-gradient-to-tr from-black/10 to-transparent lg:block hidden"}),(0,a.jsxs)("div",{className:"w-full max-w-lg lg:max-w-6xl mx-auto min-h-screen lg:min-h-[calc(100vh-4rem)] relative flex flex-col lg:flex-row lg:gap-12 lg:items-start",children:[(0,a.jsx)("aside",{className:"w-full lg:w-[400px] lg:sticky lg:top-8 shrink-0 flex flex-col lg:h-[calc(100vh-4rem)]",children:(0,a.jsxs)("div",{className:"relative overflow-hidden bg-white/5 backdrop-blur-sm lg:rounded-[2.5rem] lg:border lg:border-white/10 lg:shadow-2xl flex-1 flex flex-col",children:[(0,a.jsxs)("div",{className:"h-48 lg:h-64 w-full bg-black/10 relative shrink-0",children:[N?(0,a.jsx)("img",{src:N,className:"h-full w-full object-cover",alt:"Cover"}):(0,a.jsx)("div",{className:"h-full w-full bg-gradient-to-br from-indigo-500/20 to-purple-500/20",style:{backgroundColor:j+"22"}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/20"}),k&&(0,a.jsx)("div",{className:"absolute bottom-3 right-3 px-2 py-0.5 bg-black/20 hover:bg-black/40 backdrop-blur-md rounded-md text-[9px] text-white/50 hover:text-white transition-all duration-300 z-20",children:k.includes(":")?(0,a.jsxs)("a",{href:"https://unsplash.com/@".concat(k.split(":")[1],"?utm_source=vasta&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"font-medium hover:underline decoration-white/50",children:["@",k.split(":")[1]]}):k})]}),(0,a.jsxs)("div",{className:"px-6 lg:px-8 -mt-16 relative z-10 pb-8 flex flex-col items-center lg:items-start flex-1 text-center lg:text-left",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("div",{className:"h-32 w-32 lg:h-40 lg:w-40 rounded-full border-[6px] shadow-2xl overflow-hidden",style:{borderColor:C.backgroundColor},children:_?(0,a.jsx)("img",{src:_,className:"h-full w-full object-cover",alt:t.display_name}):(0,a.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-gray-200 text-gray-400 font-bold text-2xl uppercase",children:t.username.slice(0,2)})})}),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("h1",{className:"text-3xl lg:text-4xl font-bold tracking-tight mb-3 lg:mb-4",children:t.display_name||"@".concat(t.username)}),t.bio&&(0,a.jsx)("p",{className:"text-sm lg:text-base opacity-80 leading-relaxed max-w-xs mx-auto lg:mx-0 font-medium",children:t.bio})]}),(0,a.jsx)("div",{className:"hidden lg:flex mt-auto pt-12 items-center gap-2 opacity-30 hover:opacity-100 transition-opacity",children:(0,a.jsx)("a",{href:"https://vasta.pro",target:"_blank",className:"text-xs font-bold uppercase tracking-widest flex items-center gap-2",children:"Feito com vasta.pro"})})]})]})}),(0,a.jsxs)("main",{className:"flex-1 w-full px-6 py-8 lg:p-0 lg:py-2 space-y-8 lg:space-y-12 pb-24 lg:pb-0",children:[(0,a.jsx)("div",{className:"space-y-4 lg:grid lg:grid-cols-2 lg:gap-4 lg:space-y-0",children:n.map(e=>(0,a.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"block w-full p-4 lg:p-6 rounded-[1.25rem] lg:rounded-[1.5rem] transition-all hover:scale-[1.02] active:scale-[0.98] group relative overflow-hidden shadow-sm hover:shadow-lg lg:h-full lg:flex lg:items-center lg:justify-center",style:{..."solid"===v?{backgroundColor:j,color:"#fff"}:{},..."outline"===v?{border:"2px solid ".concat(j),color:j}:{},..."glass"===v?{backgroundColor:"light"===b?"rgba(0,0,0,0.05)":"rgba(255,255,255,0.08)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.1)"}:{},...["solid","outline"].includes(v)||"glass"===v?{}:{backgroundColor:j}},children:[(0,a.jsxs)("div",{className:"relative z-10 flex items-center justify-center font-bold text-center lg:text-lg",children:[e.title,(0,a.jsx)(o.A,{size:18,className:"absolute right-0 opacity-0 group-hover:opacity-100 transition-opacity lg:right-4"})]}),(0,a.jsx)("div",{className:"absolute inset-0 translate-x-[-100%] group-hover:animate-[shine_1s_infinite] bg-gradient-to-r from-transparent via-white/10 to-transparent"})]},e.id))}),x.length>0&&(0,a.jsxs)("div",{className:"mt-12 lg:mt-0",children:[(0,a.jsxs)("h3",{className:"text-center lg:text-left text-sm font-bold uppercase tracking-widest opacity-50 mb-6 font-sans flex items-center gap-4",children:[(0,a.jsx)("span",{className:"h-px flex-1 bg-current opacity-20 lg:hidden"}),"Loja",(0,a.jsx)("span",{className:"h-px flex-1 bg-current opacity-20"})]}),(0,a.jsx)("div",{className:"grid gap-4 lg:grid-cols-2 xl:grid-cols-2",children:x.map(e=>(0,a.jsx)("div",{className:"relative overflow-hidden rounded-[1.5rem] bg-black/5 dark:bg-white/5 border border-black/5 dark:border-white/10 group cursor-pointer hover:scale-[1.02] transition-transform hover:shadow-xl lg:flex lg:flex-col lg:h-full",children:(0,a.jsxs)("div",{className:"flex h-24 lg:h-48 lg:flex-col",children:[e.image_url&&(0,a.jsx)("div",{className:"w-24 lg:w-full h-full lg:h-48 shrink-0 bg-gray-100 dark:bg-gray-800",children:(0,a.jsx)("img",{src:e.image_url,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",alt:e.title})}),(0,a.jsxs)("div",{className:"p-4 flex flex-col justify-center flex-1 min-w-0 lg:justify-start lg:pt-5",children:[(0,a.jsx)("h4",{className:"font-bold text-lg truncate pr-2 leading-tight lg:text-xl lg:whitespace-normal lg:line-clamp-2",children:e.title}),(0,a.jsxs)("div",{className:"mt-2 flex items-center justify-between lg:mt-auto",children:[(0,a.jsx)("span",{className:"font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded-lg text-xs lg:text-sm",children:e.price>0?"R$ ".concat(e.price.toFixed(2).replace(".",",")):"Gr\xe1tis"}),(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-vasta-text text-vasta-bg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all translate-x-4 group-hover:translate-x-0",children:(0,a.jsx)(o.A,{size:14})})]})]})]})},e.id))})]}),(0,a.jsx)("footer",{className:"mt-16 text-center lg:hidden",children:(0,a.jsxs)("a",{href:"https://vasta.pro",target:"_blank",className:"inline-flex items-center gap-2 opacity-40 hover:opacity-100 transition-opacity",children:[(0,a.jsx)("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Feito com"}),(0,a.jsx)("span",{className:"font-bold",children:"vasta.pro"})]})})]})]})]})}},3259:(e,l,t)=>{t.d(l,{U:()=>s});var a=t(6725);function s(){return(0,a.createBrowserClient)("https://pmecrhlmynkpptpjiuhx.supabase.co","placeholder-key")}},5765:(e,l,t)=>{t.d(l,{A:()=>a});let a=(0,t(7401).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},4505:(e,l,t)=>{t.d(l,{A:()=>a});let a=(0,t(7401).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}}]);